(function() {    'use strict';    angular.module('mrApp')        .controller('PipelineSettingsCtrl', PipelineSettingsCtrl);    PipelineSettingsCtrl.$inject = ['$scope', '$firebaseArray'];    function PipelineSettingsCtrl($scope, $firebaseArray) {        var vm = this;        vm.check = 'asd';        vm.sel = null;        var ref = new Firebase('https://glaring-fire-4469.firebaseio.com/pipeline');        vm.pipeline = $firebaseArray(ref)        vm.addStage = addStage;        vm.selEl = selectEl;        vm.deleteStage = deleteStage;        vm.editStage = editStage;        vm.updateStage = updateStage;        init();        function deleteStage(index) {            vm.pipeline.$remove(index);        }        function updateStage(title) {            vm.pipeline[vm.editStageIndex].title = title;            vm.pipeline.$save(vm.editStageIndex).then(function () {                vm.editStageIndex = null;            });        }        function editStage(index) {            vm.editStageIndex = index;            vm.stageTitle = vm.pipeline[vm.editStageIndex].title;        }        function addStage(title) {            vm.pipeline.$add({                title: title            });        }        function selectEl(el) {            vm.sel = el;        }        function init() {            vm.stageTitle = '';            vm.editStageIndex = null;        }    }})();